{% extends "base.html" %}

{% block title %}
  <title>Home page</title>
{% endblock %}

{% block content %}
  <div class="row m-2">
    <h1>
      TODO list
      <a href="{% url 'todo_list:task-create' %}"
      class="btn btn-primary link-to-page" style="float: right;">
        Add task
      </a>
    </h1>
  </div>
  <ul class="list-group list-group-flush">
    {% for task in task_list %}
    <li class="list-group-item">
      <h4>
        {{ task.content }}
        {% if task.done %}
          <span class="text-success">Done</span>
          <a href="{% url 'todo_list:task-do-undo' pk=task.id %}"
          class="btn btn-secondary link-to-page" style="float: right;">
            Undo
          </a>
        {% else %}
          <span class="text-danger">Not done</span>
          <a href="{% url 'todo_list:task-do-undo' pk=task.id %}"
          class="btn btn-success link-to-page" style="float: right;">
            Complete
          </a>
        {% endif %}
      </h4>
      <p>Created: {{ task.created_at }}</p>
      <p class="text-secondary">
        Tags:
        {% for tag in task.tags.all %}#{{ tag.name }} {% endfor %}
          <a href="{% url 'todo_list:task-update' pk=task.id %}"
          class="text-decoration-none">
            Update
          </a>
          <a href="{% url 'todo_list:task-delete' pk=task.id %}"
          class="text-decoration-none">
            Delete
          </a>
      </p>
    </li>
  {% endfor %}
  </ul>
  
{% endblock %}
